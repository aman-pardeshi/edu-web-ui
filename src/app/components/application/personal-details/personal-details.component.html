<div class="container">
  <div class="flex gap-3 p-3 justify-content-center">
    <div class="content-container">
      <p-toast />
      <h2 class="font-bold text-4xl my-4 text-900 text-center">
        Book your free counselling
      </h2>

      <div class="mb-5 text-center">
        A member of our team will be in touch within 24 hours to arrange your
        initial consultation with one of our education experts.
      </div>

      <div class="form-container">
        <div class="card flex justify-content-center form-subcontainer">
          <form [formGroup]="applicationForm" class="w-full">
            <div class="px-5">
              <div class="flex flex-column w-full">
                <div class="mt-2 field-container">
                  <div class="field">
                    <label for="firstMiddleName" class="font-bold"
                      >First Name<span class="text-red-400">*</span></label
                    >
                    <input
                      pInputText
                      id="firstMiddleName"
                      placeholder="Enter first name"
                      formControlName="firstAndMiddleName"
                      [style]="{ width: '100%' }"
                    />
                  </div>

                  <div class="field">
                    <label for="lastName" class="font-bold"
                      >Last Name<span class="text-red-400">*</span></label
                    >

                    <input
                      pInputText
                      id="lastName"
                      placeholder="Enter last name"
                      formControlName="lastName"
                      [style]="{ width: '100%' }"
                    />
                  </div>
                </div>

                <div class="mt-2 field-container">
                  <div class="field">
                    <label for="gender" class="font-bold"
                      >Gender<span class="text-red-400">*</span></label
                    >
                    <p-dropdown
                      id="gender"
                      [options]="genderList"
                      formControlName="gender"
                      optionLabel="label"
                      [style]="{ width: '100%' }"
                    />
                  </div>

                  <div class="field">
                    <label for="dateOfBirth" class="font-bold"
                      >Date of Birth<span class="text-red-400">*</span></label
                    >
                    <p-calendar
                      id="dateOfBirth"
                      formControlName="dateOfBirth"
                      [iconDisplay]="'input'"
                      [showIcon]="true"
                      [style]="{ width: '100%' }"
                      placeholder="dd/mm/yyyy"
                      dateFormat="dd/mm/yy"
                      [monthNavigator]="true"
                      [yearNavigator]="true"
                      yearRange="1930:2050"
                      [maxDate]="maxDate"
                    ></p-calendar>
                  </div>
                </div>

                <div class="mt-2 field-container">
                  <div class="field">
                    <label for="mobileNumber" class="font-bold"
                      >Mobile Number<span class="text-red-400">*</span></label
                    >
                    <div class="mobile-number-container p-filled">
                      <p-dropdown
                        [options]="countries"
                        formControlName="countryCode"
                        optionLabel="name"
                        [filter]="true"
                        filterBy="name"
                        class="outline-none w-4"
                      >
                        <ng-template
                          pTemplate="selectedItem"
                          let-selectedOption
                        >
                          <div class="flex align-items-center gap-2 pr-0">
                            <img
                              src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png"
                              [class]="
                                'flag flag-' +
                                applicationForm
                                  .get('countryCode')
                                  .value.code.toLowerCase()
                              "
                              style="width: 20px"
                            />
                            <div>
                              {{
                                applicationForm.get('countryCode')?.value
                                  .countryCode
                              }}
                            </div>
                          </div>
                        </ng-template>
                        <ng-template let-country pTemplate="item">
                          <div class="flex align-items-center gap-2">
                            <img
                              src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png"
                              [class]="
                                'flag flag-' + country.code.toLowerCase()
                              "
                              style="width: 18px"
                            />
                            <div>{{ country.name }}</div>
                          </div>
                        </ng-template>
                      </p-dropdown>

                      <p-inputNumber
                        formControlName="contactNo"
                        mode="decimal"
                        inputId="withoutgrouping"
                        [useGrouping]="false"
                        class="w-full outline-none"
                        placeholder="Mobile Number"
                        [style]="{ width: '95%', marginLeft: '5px' }"
                        id="mobileNumber"
                      />
                    </div>
                  </div>

                  <div class="field">
                    <label for="passportNumber" class="font-bold"
                      >Email<span class="text-red-400">*</span></label
                    >
                    <input
                      pInputText
                      id="email"
                      placeholder="Enter email"
                      formControlName="email"
                      class="w-full"
                      [style]="{ width: '100%' }"
                    />
                  </div>
                </div>

                <div class="mt-2 field-container">
                  <div class="field flex flex-column">
                    <label for="passportExpiryDate" class="font-bold"
                      >Nationality<span class="text-red-400">*</span></label
                    >
                    <p-dropdown
                      [options]="nationalityList"
                      formControlName="countryCode"
                      optionLabel="label"
                      [filter]="true"
                      filterBy="label"
                      class="outline-none"
                      [style]="{ width: '100%' }"
                    ></p-dropdown>
                  </div>

                  <div class="field">
                    <label for="yearOfStudy" class="font-bold"
                      >Year of Study<span class="text-red-400">*</span></label
                    >
                    <input
                      pInputText
                      id="yearOfStudy"
                      formControlName="yearOfStudy"
                      class="w-full"
                      [style]="{ width: '100%' }"
                    />
                  </div>
                </div>

                <div class="flex mt-2 justify-content-center">
                  <!-- -->
                  <p-button
                    label="Submit"
                    iconPos="right"
                    (onClick)="showSuccessDialog = true"
                  />
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>

      <!-- <div class="mt-3 form-container">
        <div class="flex justify-content-end mt-1">
          <div class="mt-3 flex justify-content-end gap-3 align-items-center">
            <div class="text-red-400">
              <small
                *ngIf="
                  formSubmitted &&
                  (applicationForm.invalid || applicationForm.invalid)
                "
                >*Some fields are missing</small
              >
            </div>

            <p-button
              [label]="'Next'"
              (onClick)="nextPage()"
              icon="pi pi-angle-right"
              iconPos="right"
            ></p-button>
          </div>
        </div>
      </div> -->
    </div>
  </div>
</div>

<p-dialog [(visible)]="showSuccessDialog" [modal]="true">
  <div class="p-5">
    <div class="flex justify-content-center">
      <img src="/assets/demo/images/completed_illustration.png" width="250" />
    </div>

    <h2>You counselling session has been booked.</h2>

    <div class="flex justify-content-center">
      <!-- -->
      <p-button
        label="Back to Home"
        iconPos="right"
        (onClick)="showSuccessDialog = false"
      />
    </div>
  </div>
</p-dialog>
